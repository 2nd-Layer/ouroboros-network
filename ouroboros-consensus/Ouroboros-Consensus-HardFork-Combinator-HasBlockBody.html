<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ouroboros.Consensus.HardFork.Combinator.HasBlockBody</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ouroboros-consensus-0.1.0.0: Consensus layer for the Ouroboros blockchain protocol</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Consensus.HardFork.Combinator.HasBlockBody</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Generic infrastructure</a></li><li><a href="#g:2">HFC support</a></li></ul></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:GetHeader" title="Ouroboros.Consensus.Block.Abstract">GetHeader</a> blk &#8658; <a href="#t:HasBlockBody">HasBlockBody</a> blk <span class="keyword">where</span><ul class="subs"><li><span class="keyword">data</span> <a href="#t:Body">Body</a> blk &#8759; &#9733;</li><li><a href="#v:getBody">getBody</a> &#8759; blk &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> blk</li><li><a href="#v:assembleBlock">assembleBlock</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> blk &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> blk</li></ul></li><li class="src short"><a href="#v:splitBlock">splitBlock</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:HasBlockBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">HasBlockBody</a> blk &#8658; blk &#8594; (<a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk, <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> blk)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:SerialiseHeaderBody">SerialiseHeaderBody</a> xs = <a href="#v:SerialiseHeaderBody">SerialiseHeaderBody</a> {<ul class="subs"><li><a href="#v:getSerialiseHeaderBody">getSerialiseHeaderBody</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs</li></ul>}</li><li class="src short"><a href="#v:encodeHardForkBlockWithInfo">encodeHardForkBlockWithInfo</a> &#8759; (<a href="Ouroboros-Consensus-HardFork-Combinator-Abstract.html#t:CanHardFork" title="Ouroboros.Consensus.HardFork.Combinator.Abstract">CanHardFork</a> xs, <a href="Data-SOP-Strict.html#t:All" title="Data.SOP.Strict">All</a> <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:HasBlockBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">HasBlockBody</a> xs, <a href="Data-SOP-Strict.html#t:All" title="Data.SOP.Strict">All</a> (<a href="Data-SOP-Strict.html#t:Compose" title="Data.SOP.Strict">Compose</a> Serialise <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a>) xs, <a href="Data-SOP-Strict.html#t:All" title="Data.SOP.Strict">All</a> (<a href="Data-SOP-Strict.html#t:Compose" title="Data.SOP.Strict">Compose</a> Serialise <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a>) xs) &#8658; <a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> Encoding</li><li class="src short"><a href="#v:toSerialiseOneHeader">toSerialiseOneHeader</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-AcrossEras.html#t:SerialiseOne" title="Ouroboros.Consensus.HardFork.Combinator.AcrossEras">SerialiseOne</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> xs</li><li class="src short"><a href="#v:toSerialiseOneBody">toSerialiseOneBody</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-AcrossEras.html#t:SerialiseOne" title="Ouroboros.Consensus.HardFork.Combinator.AcrossEras">SerialiseOne</a> <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> xs</li><li class="src short"><a href="#v:fromSerialiseOneHeader">fromSerialiseOneHeader</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-AcrossEras.html#t:SerialiseOne" title="Ouroboros.Consensus.HardFork.Combinator.AcrossEras">SerialiseOne</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> xs &#8594; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs)</li><li class="src short"><a href="#v:fromSerialiseOneBody">fromSerialiseOneBody</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-AcrossEras.html#t:SerialiseOne" title="Ouroboros.Consensus.HardFork.Combinator.AcrossEras">SerialiseOne</a> <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Generic infrastructure</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:GetHeader" title="Ouroboros.Consensus.Block.Abstract">GetHeader</a> blk &#8658; <a id="t:HasBlockBody" class="def">HasBlockBody</a> blk <span class="keyword">where</span> <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#HasBlockBody" class="link">Source</a> <a href="#t:HasBlockBody" class="selflink">#</a></p><div class="doc"><p>Blocks that can be split into a header and a body</p><p>The immutable DB needs to be able to read a header out of a block (see
 <code><a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a></code>). When we are dealing with blocks from multiple eras, this is
 a bit tricky: the encoder for a <em>header</em> of a <code><a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a></code> would insert
 a tag to indicate which era the header is from, but the encoder for a
 <code><a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a></code> would instead insert a tag around the whole block, and not
 have a nested tag around the header. This means that we cannot directly
 apply the header decoder to the header nested inside a block, as it is
 missing a tag.</p><p>An alternative approach, supported by this class, is to split the block
 into a header and a body, and then encode the two separately. This is
 primarily useful for tests, but might also be useful for real ledger
 implementations, provided that the binary format is not dictated by
 other means.</p><p>This class is not required by the hard fork combinator, merely provided as
 an option.</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a id="t:Body" class="def">Body</a> blk &#8759; &#9733; <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#Body" class="link">Source</a> <a href="#t:Body" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:getBody" class="def">getBody</a> &#8759; blk &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> blk <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#getBody" class="link">Source</a> <a href="#v:getBody" class="selflink">#</a></p><div class="doc"><p>Get the block body</p><p>Getting the header comes from <code><a href="Ouroboros-Consensus-Block-Abstract.html#t:GetHeader" title="Ouroboros.Consensus.Block.Abstract">GetHeader</a></code></p></div><p class="src"><a id="v:assembleBlock" class="def">assembleBlock</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> blk &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> blk <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#assembleBlock" class="link">Source</a> <a href="#v:assembleBlock" class="selflink">#</a></p><div class="doc"><p>Reassemble the block from its header and its body</p><p>Can fail if this header and this body don't fit together.
 Should be <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Just" title="GHC.Maybe">Just</a></code> iff <code><a href="Ouroboros-Consensus-Block-Abstract.html#v:blockMatchesHeader" title="Ouroboros.Consensus.Block.Abstract">blockMatchesHeader</a></code>.</p></div></div><div class="subs instances"><details id="i:HasBlockBody" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasBlockBody:HasBlockBody:1"></span> (<a href="Ouroboros-Consensus-HardFork-Combinator-Abstract.html#t:CanHardFork" title="Ouroboros.Consensus.HardFork.Combinator.Abstract">CanHardFork</a> xs, <a href="Data-SOP-Strict.html#t:All" title="Data.SOP.Strict">All</a> <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:HasBlockBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">HasBlockBody</a> xs) &#8658; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:HasBlockBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">HasBlockBody</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#line-83" class="link">Source</a> <a href="#t:HasBlockBody" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasBlockBody:HasBlockBody:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html">Ouroboros.Consensus.HardFork.Combinator.HasBlockBody</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#Body" class="link">Source</a> <a href="#t:Body" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getBody">getBody</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#getBody" class="link">Source</a> <a href="#v:getBody" class="selflink">#</a></p><p class="src"><a href="#v:assembleBlock">assembleBlock</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#assembleBlock" class="link">Source</a> <a href="#v:assembleBlock" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:splitBlock" class="def">splitBlock</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:HasBlockBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">HasBlockBody</a> blk &#8658; blk &#8594; (<a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk, <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> blk) <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#splitBlock" class="link">Source</a> <a href="#v:splitBlock" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>HFC support</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:SerialiseHeaderBody" class="def">SerialiseHeaderBody</a> xs <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#SerialiseHeaderBody" class="link">Source</a> <a href="#t:SerialiseHeaderBody" class="selflink">#</a></p><div class="doc"><p>Serialise header and body separately</p><p>Can be used for deriving via.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SerialiseHeaderBody" class="def">SerialiseHeaderBody</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getSerialiseHeaderBody" class="def">getSerialiseHeaderBody</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:SerialiseHeaderBody" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SerialiseHeaderBody:Serialise:1"></span> (<a href="Ouroboros-Consensus-HardFork-Combinator-Abstract.html#t:CanHardFork" title="Ouroboros.Consensus.HardFork.Combinator.Abstract">CanHardFork</a> xs, <a href="Data-SOP-Strict.html#t:All" title="Data.SOP.Strict">All</a> <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:HasBlockBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">HasBlockBody</a> xs, <a href="Data-SOP-Strict.html#t:All" title="Data.SOP.Strict">All</a> (<a href="Data-SOP-Strict.html#t:Compose" title="Data.SOP.Strict">Compose</a> Serialise <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a>) xs, <a href="Data-SOP-Strict.html#t:All" title="Data.SOP.Strict">All</a> (<a href="Data-SOP-Strict.html#t:Compose" title="Data.SOP.Strict">Compose</a> Serialise <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a>) xs) &#8658; Serialise (<a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:SerialiseHeaderBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">SerialiseHeaderBody</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#line-129" class="link">Source</a> <a href="#t:SerialiseHeaderBody" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SerialiseHeaderBody:Serialise:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html">Ouroboros.Consensus.HardFork.Combinator.HasBlockBody</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:encode">encode</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:SerialiseHeaderBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">SerialiseHeaderBody</a> xs &#8594; Encoding</p><p class="src"><a href="#v:decode">decode</a> &#8759; Decoder s (<a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:SerialiseHeaderBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">SerialiseHeaderBody</a> xs)</p><p class="src"><a href="#v:encodeList">encodeList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:SerialiseHeaderBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">SerialiseHeaderBody</a> xs] &#8594; Encoding</p><p class="src"><a href="#v:decodeList">decodeList</a> &#8759; Decoder s [<a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:SerialiseHeaderBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">SerialiseHeaderBody</a> xs]</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:encodeHardForkBlockWithInfo" class="def">encodeHardForkBlockWithInfo</a> &#8759; (<a href="Ouroboros-Consensus-HardFork-Combinator-Abstract.html#t:CanHardFork" title="Ouroboros.Consensus.HardFork.Combinator.Abstract">CanHardFork</a> xs, <a href="Data-SOP-Strict.html#t:All" title="Data.SOP.Strict">All</a> <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:HasBlockBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">HasBlockBody</a> xs, <a href="Data-SOP-Strict.html#t:All" title="Data.SOP.Strict">All</a> (<a href="Data-SOP-Strict.html#t:Compose" title="Data.SOP.Strict">Compose</a> Serialise <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a>) xs, <a href="Data-SOP-Strict.html#t:All" title="Data.SOP.Strict">All</a> (<a href="Data-SOP-Strict.html#t:Compose" title="Data.SOP.Strict">Compose</a> Serialise <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a>) xs) &#8658; <a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> Encoding <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#encodeHardForkBlockWithInfo" class="link">Source</a> <a href="#v:encodeHardForkBlockWithInfo" class="selflink">#</a></p><div class="doc"><p>Construct <code><a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a></code> for a hard fork block</p><p>NOTE: This uses <code><a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:SerialiseHeaderBody" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">SerialiseHeaderBody</a></code> to serialise the header and body
 separately, and then <code><a href="Ouroboros-Consensus-HardFork-Combinator-AcrossEras.html#t:SerialiseOne" title="Ouroboros.Consensus.HardFork.Combinator.AcrossEras">SerialiseOne</a></code> to encode the header and the body.
 This function is only useable if that serialisation strategy is used
 consistently. See <code><a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#v:toSerialiseOneHeader" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">toSerialiseOneHeader</a></code> and friends. Typically used with</p><pre>deriving via SerialiseHeaderBody SomeEras
         instance Serialise SomeBlock

deriving via SerialiseOne Header SomeEras
         instance Serialise (Header SomeBlock)</pre><p>TODO: The way this is currently defined is not very efficient; this is not
 a big deal right now as this is currently only used for tests.</p></div></div><div class="top"><p class="src"><a id="v:toSerialiseOneHeader" class="def">toSerialiseOneHeader</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-AcrossEras.html#t:SerialiseOne" title="Ouroboros.Consensus.HardFork.Combinator.AcrossEras">SerialiseOne</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> xs <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#toSerialiseOneHeader" class="link">Source</a> <a href="#v:toSerialiseOneHeader" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:toSerialiseOneBody" class="def">toSerialiseOneBody</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-AcrossEras.html#t:SerialiseOne" title="Ouroboros.Consensus.HardFork.Combinator.AcrossEras">SerialiseOne</a> <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> xs <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#toSerialiseOneBody" class="link">Source</a> <a href="#v:toSerialiseOneBody" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:fromSerialiseOneHeader" class="def">fromSerialiseOneHeader</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-AcrossEras.html#t:SerialiseOne" title="Ouroboros.Consensus.HardFork.Combinator.AcrossEras">SerialiseOne</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> xs &#8594; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#fromSerialiseOneHeader" class="link">Source</a> <a href="#v:fromSerialiseOneHeader" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:fromSerialiseOneBody" class="def">fromSerialiseOneBody</a> &#8759; <a href="Ouroboros-Consensus-HardFork-Combinator-AcrossEras.html#t:SerialiseOne" title="Ouroboros.Consensus.HardFork.Combinator.AcrossEras">SerialiseOne</a> <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-HasBlockBody.html#t:Body" title="Ouroboros.Consensus.HardFork.Combinator.HasBlockBody">Body</a> (<a href="Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> xs) <a href="src/Ouroboros.Consensus.HardFork.Combinator.HasBlockBody.html#fromSerialiseOneBody" class="link">Source</a> <a href="#v:fromSerialiseOneBody" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>